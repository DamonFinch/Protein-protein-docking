
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tools &#8212; DeepRank 0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Feature" href="deeprank.features.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="deeprank.features.html" title="Feature"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DeepRank 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Documentation.html" accesskey="U">Documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-deeprank.tools">
<span id="tools"></span><h1>Tools<a class="headerlink" href="#module-deeprank.tools" title="Permalink to this headline">¶</a></h1>
<p>This module contains a series of core tools used for the feature calculations in DeepRank. These tools are at the moment:</p>
<blockquote>
<div><ul class="simple">
<li>pdb2sql : a sql based parser of pdb</li>
<li>StructureSimilarity : compute irmsd,lrmsd,Fnat and DockQ score (Profit replacement)</li>
<li>sasa : a simple solvent surface area calculator</li>
<li>sparse : a 3D sparse matrix engine</li>
</ul>
</div></blockquote>
<p>Here are the details of the submodule given in tools.</p>
<div class="section" id="module-deeprank.tools.pdb2sql">
<span id="pdb2sql"></span><h2>pdb2sql<a class="headerlink" href="#module-deeprank.tools.pdb2sql" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deeprank.tools.pdb2sql.pdb2sql">
<em class="property">class </em><code class="descclassname">deeprank.tools.pdb2sql.</code><code class="descname">pdb2sql</code><span class="sig-paren">(</span><em>pdbfile</em>, <em>sqlfile=None</em>, <em>fix_chainID=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL data base for a PDB file.</p>
<p>This allows to easily parse and extract information of the PDB using SQL queries. This is a local
version of the pdb2sql tool (<a class="reference external" href="https://github.com/DeepRank/pdb2sql">https://github.com/DeepRank/pdb2sql</a>). Of pdb2sql is further developped as
a standalone we should use the library directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pdbfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.6)"><em>bytes</em></a><em>)</em>) – the pdb information can be provided as filename of list of bytes containign the pdb data</li>
<li><strong>sqlfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the sqlfile. By default it is created in memory only</li>
<li><strong>fix_chainID</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optinal</em>) – check if the name of the chains are A,B,C, …. and fix it if not</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – probably print stuff.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># create the sql</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="s1">&#39;1AK4_100w.pdb&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># print the database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">prettyprint</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get the names of the columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">get_colnames</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># extract the xyz position of the atoms with name CB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;rowID&#39;</span><span class="p">,</span><span class="n">where</span><span class="o">=</span><span class="s2">&quot;resName=&#39;VAL&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;CHARGE&#39;</span><span class="p">,</span><span class="s1">&#39;FLOAT&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;CHARGE&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">prettyprint</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">exportpdb</span><span class="p">(</span><span class="s1">&#39;chainA.pdb&#39;</span><span class="p">,</span><span class="n">where</span><span class="o">=</span><span class="s2">&quot;chainID=&#39;A&#39;&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># close the database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.get_colnames">
<code class="descname">get_colnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.get_colnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.get_colnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the colom names of the database.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.prettyprint">
<code class="descname">prettyprint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.prettyprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.prettyprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the database with pandas.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.uglyprint">
<code class="descname">uglyprint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.uglyprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.uglyprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Raw print of the database.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>atnames</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data from the sql database.</p>
<p>Get the values of specified attributes for a specific selection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>atnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – attribute name. They can be printed can get these names via the get_colnames()
- serial
- name
- atLoc
- resName
- chainID
- resSeq,
- iCode,
- x/y/z
Several attributes can be specified at once e.g ‘x,y,z’</li>
<li><strong>kwargs</strong> – <p>Several options are possible to select atoms. Each column can be used as a keyword argument.
Several keywords can be combined assuming a AND logical combination</p>
<p>None : return the entire table</p>
<p>chainID = ‘A’ select chain from name</p>
<p>resIndex = [1,2,3] select residue from index</p>
<p>resName = [‘VAL’,’LEU’] select residue from name</p>
<p>name  = [‘CA’,’N’] select atoms from names</p>
<p>rowID = [1,2,3] select atoms from index</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: Numpy array containig the requested data</dt>
<dd>np.array:</dd>
</dl>
<p>Example :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CA&#39;</span><span class="p">,</span><span class="s1">&#39;CB&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">,</span><span class="n">chainID</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="n">resName</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;VAL&#39;</span><span class="p">,</span><span class="n">LEU</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.get_contact_atoms">
<code class="descname">get_contact_atoms</code><span class="sig-paren">(</span><em>cutoff=8.5</em>, <em>chain1='A'</em>, <em>chain2='B'</em>, <em>extend_to_residue=False</em>, <em>only_backbone_atoms=False</em>, <em>excludeH=False</em>, <em>return_only_backbone_atoms=False</em>, <em>return_contact_pairs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.get_contact_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.get_contact_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get contact atoms of the interface.</p>
<p>The cutoff distance is by default 8.5 Angs but can be changed at will. A few more options allows to
precisely define how the contact atoms are identified and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – cutoff for contact atoms (default 8.5)</li>
<li><strong>chain1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of the first chain</li>
<li><strong>chain2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of the first chain</li>
<li><strong>extend_to_residue</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – extend the contact atoms to entire residues</li>
<li><strong>only_bacbone_atoms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – consider only backbone atoms</li>
<li><strong>excludeH</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – exclude hydrogen atoms</li>
<li><strong>return_only_backbone_atoms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – only returns backbone atoms</li>
<li><strong>return_contact_pairs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – return the contact pairs instead of contact atoms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">index of the contact atoms</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">get_contact_atoms</span><span class="p">(</span><span class="n">cutoff</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span><span class="n">return_contact_pairs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.get_contact_residue">
<code class="descname">get_contact_residue</code><span class="sig-paren">(</span><em>cutoff=8.5</em>, <em>chain1='A'</em>, <em>chain2='B'</em>, <em>excludeH=False</em>, <em>only_backbone_atoms=False</em>, <em>return_contact_pairs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.get_contact_residue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.get_contact_residue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get contact residues of the interface. The cutoff distance is by default 8.5 Angs but can be changed at will. A few more options allows to
precisely define how the contact residues are identified and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – cutoff for contact atoms (default 8.5)</li>
<li><strong>chain1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of the first chain</li>
<li><strong>chain2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of the first chain</li>
<li><strong>only_bacbone_atoms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – consider only backbone atoms</li>
<li><strong>excludeH</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – exclude hydrogen atoms</li>
<li><strong>return_contact_pairs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – return the contact pairs instead of contact atoms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">index of the contact atoms</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">get_contact_residue</span><span class="p">(</span><span class="n">cutoff</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span><span class="n">return_contact_pairs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.add_column">
<code class="descname">add_column</code><span class="sig-paren">(</span><em>colname</em>, <em>coltype='FLOAT'</em>, <em>default=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.add_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.add_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an extra column to the ATOM table.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>attribute</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the database.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.update_column">
<code class="descname">update_column</code><span class="sig-paren">(</span><em>colname</em>, <em>values</em>, <em>index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.update_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.update_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a single column.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.update_xyz">
<code class="descname">update_xyz</code><span class="sig-paren">(</span><em>xyz</em>, <em>index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.update_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.update_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the xyz information.</p>
<p>Update the positions of the atoms selected
if index=None the position of all the atoms are changed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xyz</strong> (<em>np.array</em>) – new xyz position</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – index of the atom to move</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>colname</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the value of the attribute with value specified with possible selection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – must be a valid attribute name.
you can get these names via the get_colnames()
serial, name, atLoc,resName,chainID, resSeq,iCode,x,y,z,occ,temp
you can specify more than one attribute name at once e.g ‘x,y,z’</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/keyword.html#module-keyword" title="(in Python v3.6)"><em>keyword</em></a>) – Several options are possible
None : put the value in the entire column
index = [0,1,2,3] in only these indexes (not serial)
where = “chainID=’B’” only for this chain
query = general SQL Query</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;CHARGE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;CHARGE&#39;</span><span class="p">,</span><span class="mf">1.25</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit the database.</p>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.exportpdb">
<code class="descname">exportpdb</code><span class="sig-paren">(</span><em>fname</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.exportpdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.exportpdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a PDB file with kwargs selection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the file</li>
<li><strong>**kwargs</strong> – Selection (see pdb2sql.get())</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">pdb2sql</span><span class="p">(</span><span class="s1">&#39;1AK4.pdb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">exportpdb</span><span class="p">(</span><span class="s1">&#39;CA.pdb&#39;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CA&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>rmdb=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rmdb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Remove the database file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.translation">
<code class="descname">translation</code><span class="sig-paren">(</span><em>vect</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.translation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.translation" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a part or all of the molecule</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vect</strong> (<em>np.array</em>) – translation vector</li>
<li><strong>**kwargs</strong> – keyword argument to select the atoms. See pdb2sql.get()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.rotation_around_axis">
<code class="descname">rotation_around_axis</code><span class="sig-paren">(</span><em>axis</em>, <em>angle</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.rotation_around_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.rotation_around_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a part or all of the molecule around a specified axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>np.array</em>) – axis of rotation</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of rotation in radian</li>
<li><strong>**kwargs</strong> – keyword argument to select the atoms. See pdb2sql.get()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.rotation_euler">
<code class="descname">rotation_euler</code><span class="sig-paren">(</span><em>alpha</em>, <em>beta</em>, <em>gamma</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.rotation_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.rotation_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a part or all of the molecule from Euler rotation axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of rotation around the x axis</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of rotation around the y axis</li>
<li><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of rotation around the z axis</li>
<li><strong>**kwargs</strong> – keyword argument to select the atoms. See pdb2sql.get()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.pdb2sql.pdb2sql.rotation_matrix">
<code class="descname">rotation_matrix</code><span class="sig-paren">(</span><em>rot_mat</em>, <em>center=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/pdb2sql.html#pdb2sql.rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.pdb2sql.pdb2sql.rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a part or all of the molecule from a rotation matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rot_mat</strong> (<em>np.array</em>) – 3x3 rotation matrix</li>
<li><strong>center</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – center the molecule before applying the rotation</li>
<li><strong>**kwargs</strong> – keyword argument to select the atoms. See pdb2sql.get()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deeprank.tools.StructureSimilarity">
<span id="structure-similarity-a-new-profit"></span><h2>Structure Similarity: a new ProFit<a class="headerlink" href="#module-deeprank.tools.StructureSimilarity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="deeprank.tools.StructureSimilarity.printif">
<code class="descclassname">deeprank.tools.StructureSimilarity.</code><code class="descname">printif</code><span class="sig-paren">(</span><em>string</em>, <em>cond</em><span class="sig-paren">)</span><a class="headerlink" href="#deeprank.tools.StructureSimilarity.printif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity">
<em class="property">class </em><code class="descclassname">deeprank.tools.StructureSimilarity.</code><code class="descname">StructureSimilarity</code><span class="sig-paren">(</span><em>decoy</em>, <em>ref</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the structure similarity between different molecules.</p>
<p>This class allows to compute the i-RMSD, L-RMSD, Fnat and DockQ score of a given conformation.
This can be a replacement for ProFIT. Note that the calculation of the zones are done by the class itself
and does not require any extra input. This local class could be replaced by pdb2sql.StructureSimilarity.
(<a class="reference external" href="https://github.com/DeepRank/pdb2sql">https://github.com/DeepRank/pdb2sql</a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>decoy</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – file name of the decoy</li>
<li><strong>ref</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – file name of the reference</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – print debug information</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">deeprank.tools</span> <span class="k">import</span> <span class="n">StructureSimilarity</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoy</span> <span class="o">=</span> <span class="s1">&#39;1AK4_1w.pdb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;1AK4.pdb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">StructureSimilarity</span><span class="p">(</span><span class="n">decoy</span><span class="p">,</span><span class="n">ref</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">irmsd_fast</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_irmsd_fast</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;svd&#39;</span><span class="p">,</span><span class="n">izone</span><span class="o">=</span><span class="s1">&#39;1AK4.izone&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">irmsd</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_irmsd_pdb2sql</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;svd&#39;</span><span class="p">,</span><span class="n">izone</span><span class="o">=</span><span class="s1">&#39;1AK4.izone&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lrmsd_fast</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_lrmsd_fast</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;svd&#39;</span><span class="p">,</span><span class="n">lzone</span><span class="o">=</span><span class="s1">&#39;1AK4.lzone&#39;</span><span class="p">,</span><span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lrmsd</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_lrmsd_pdb2sql</span><span class="p">(</span><span class="n">exportpath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;svd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Fnat</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_Fnat_pdb2sql</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Fnat_fast</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_Fnat_fast</span><span class="p">(</span><span class="n">ref_pairs</span><span class="o">=</span><span class="s1">&#39;1AK4.ref_pairs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dockQ</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">compute_DockQScore</span><span class="p">(</span><span class="n">Fnat_fast</span><span class="p">,</span><span class="n">lrmsd_fast</span><span class="p">,</span><span class="n">irmsd_fast</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lrmsd_fast">
<code class="descname">compute_lrmsd_fast</code><span class="sig-paren">(</span><em>lzone=None</em>, <em>method='svd'</em>, <em>check=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_lrmsd_fast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lrmsd_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast routine to compute the L-RMSD.</p>
<p>This routine parse the PDB directly without using pdb2sql.
L-RMSD is computed by aligning the longest chain of the decoy to the one of the reference
and computing the RMSD of the shortest chain between decoy and reference.</p>
<dl class="docutils">
<dt>Ref <span class="classifier-delimiter">:</span> <span class="classifier">DockQ: A Quality Measure for Protein-Protein Docking Models</span></dt>
<dd><a class="reference external" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lzone</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>optional</em>) – name of the file containing the zone definition. If None the file will be calculated first</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Method to align the fragments (‘svd’,’quaternion’)</li>
<li><strong>check</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Check if the sequences are aligned and fix it if not. Should be True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">L-RMSD value of the conformation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lzone">
<code class="descname">compute_lzone</code><span class="sig-paren">(</span><em>save_file=True</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_lzone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lzone" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the zone for L-RMSD calculation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – save the zone file</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">definition of the zone</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_irmsd_fast">
<code class="descname">compute_irmsd_fast</code><span class="sig-paren">(</span><em>izone=None</em>, <em>method='svd'</em>, <em>cutoff=10.0</em>, <em>check=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_irmsd_fast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_irmsd_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast method to compute the i-rmsd</p>
<p>Require the precalculation of the izone
A dedicated routine is implemented to comoute the izone
if izone is not given in argument the routine will compute them automatically</p>
<p>i-RMSD is computed selecting the back bone of the contact residue with a cutoff of 10A
in the decoy. Align these as best as possible with their coutner part in the ref
and and compute the RMSD</p>
<dl class="docutils">
<dt>Ref <span class="classifier-delimiter">:</span> <span class="classifier">DockQ: A Quality Measure for Protein-Protein Docking Models</span></dt>
<dd><a class="reference external" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>izone</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>optional</em>) – file name of the zone. if None the zones will be calculated first</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Method to align the fragments (‘svd’,’quaternion’)</li>
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</li>
<li><strong>check</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Check if the sequences are aligned and fix it if not. Should be True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">i-RMSD value of the conformation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_izone">
<code class="descname">compute_izone</code><span class="sig-paren">(</span><em>cutoff=5.0</em>, <em>save_file=True</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_izone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_izone" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the zones  for i-rmsd calculationss</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</li>
<li><strong>save_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – svae file containing the zone</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – filename</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">i-zone definition</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_Fnat_fast">
<code class="descname">compute_Fnat_fast</code><span class="sig-paren">(</span><em>ref_pairs=None</em>, <em>cutoff=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_Fnat_fast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_Fnat_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the FNAT of the conformation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ref_pairs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – file name describing the pairs</li>
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">FNAT value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – if the decoy file is not found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_residue_pairs_ref">
<code class="descname">compute_residue_pairs_ref</code><span class="sig-paren">(</span><em>cutoff=5.0</em>, <em>save_file=True</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_residue_pairs_ref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_residue_pairs_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the residue pair on the reference conformation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</li>
<li><strong>save_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – save the file containing the residue pairs</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>optional</em>) – filename</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">defintition of the residue pairs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lrmsd_pdb2sql">
<code class="descname">compute_lrmsd_pdb2sql</code><span class="sig-paren">(</span><em>exportpath=None</em>, <em>method='svd'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_lrmsd_pdb2sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_lrmsd_pdb2sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Slow routine to compute the L-RMSD.</p>
<p>This routine parse the PDB directly using pdb2sql.
L-RMSD is computed by aligning the longest chain of the decoy to the one of the reference
and computing the RMSD of the shortest chain between decoy and reference.</p>
<dl class="docutils">
<dt>Ref <span class="classifier-delimiter">:</span> <span class="classifier">DockQ: A Quality Measure for Protein-Protein Docking Models</span></dt>
<dd><a class="reference external" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>exportpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – file name where the aligned pdbs are exported</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Method to align the fragments (‘svd’,’quaternion’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">L-RMSD value of the conformation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_identical_atoms">
<em class="property">static </em><code class="descname">get_identical_atoms</code><span class="sig-paren">(</span><em>db1</em>, <em>db2</em>, <em>chain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_identical_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_identical_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return that atoms shared by both databse for a specific chain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db1</strong> (<em>TYPE</em>) – pdb2sql database of the first conformation</li>
<li><strong>db2</strong> (<em>TYPE</em>) – pdb2sql database of the 2nd conformation</li>
<li><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – chain name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of xyz for both database</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_irmsd_pdb2sql">
<code class="descname">compute_irmsd_pdb2sql</code><span class="sig-paren">(</span><em>cutoff=10</em>, <em>method='svd'</em>, <em>izone=None</em>, <em>exportpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_irmsd_pdb2sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_irmsd_pdb2sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Slow method to compute the i-rmsd</p>
<p>Require the precalculation of the izone. A dedicated routine is implemented to comoute the izone
if izone is not given in argument the routine will compute them automatically</p>
<p>i-RMSD is computed selecting the back bone of the contact residue with a cutoff of 10A
in the decoy. Align these as best as possible with their coutner part in the ref
and and compute the RMSD</p>
<dl class="docutils">
<dt>Ref <span class="classifier-delimiter">:</span> <span class="classifier">DockQ: A Quality Measure for Protein-Protein Docking Models</span></dt>
<dd><a class="reference external" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0161879</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>izone</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>optional</em>) – file name of the zone. if None the zones will be calculated first</li>
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Method to align the fragments (‘svd’,’quaternion’)</li>
<li><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</li>
<li><strong>exportpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – file name where the aligned pdbs are exported</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">i-RMSD value of the conformation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_izone_rowID">
<em class="property">static </em><code class="descname">get_izone_rowID</code><span class="sig-paren">(</span><em>sql</em>, <em>izone</em>, <em>return_only_backbone_atoms=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_izone_rowID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_izone_rowID" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the idnex of the izone atoms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sql</strong> (<a class="reference internal" href="#module-deeprank.tools.pdb2sql" title="deeprank.tools.pdb2sql"><em>pdb2sql</em></a>) – database of the conformation</li>
<li><strong>izone</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – filename to store the zone</li>
<li><strong>return_only_backbone_atoms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Returns only the backbone atoms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">index of the atoms in the zone</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">lis(<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">FileNotFoundError</span></code></a> – if the izone file is not found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_Fnat_pdb2sql">
<code class="descname">compute_Fnat_pdb2sql</code><span class="sig-paren">(</span><em>cutoff=5.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_Fnat_pdb2sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_Fnat_pdb2sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Slow method to compute the FNAT usign pdb2sql</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for the contact atoms</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Fnat value for the conformation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.read_xyz_zone">
<em class="property">static </em><code class="descname">read_xyz_zone</code><span class="sig-paren">(</span><em>pdb_file</em>, <em>resData</em>, <em>return_not_in_zone=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.read_xyz_zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.read_xyz_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the xyz of the zone atoms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pdb_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – filename containing the pdb of the molecule</li>
<li><strong>resData</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – information about the residues</li>
<li><strong>return_not_in_zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Do we return the atoms not in the zone</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">XYZ of the atoms in the zone</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.read_data_zone">
<em class="property">static </em><code class="descname">read_data_zone</code><span class="sig-paren">(</span><em>pdb_file</em>, <em>resData</em>, <em>return_not_in_zone=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.read_data_zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.read_data_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data of the atoms in the zone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pdb_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – filename containing the pdb of the molecule</li>
<li><strong>resData</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – information about the residues</li>
<li><strong>return_not_in_zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Do we return the atoms not in the zone</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">data of the atoms in the zone</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.read_zone">
<em class="property">static </em><code class="descname">read_zone</code><span class="sig-paren">(</span><em>zone_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.read_zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.read_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the zone file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zone_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of the file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Info aboyt the residues in the zone</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">FileNotFoundError</span></code></a> – if the zone file is not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.compute_DockQScore">
<em class="property">static </em><code class="descname">compute_DockQScore</code><span class="sig-paren">(</span><em>Fnat</em>, <em>lrmsd</em>, <em>irmsd</em>, <em>d1=8.5</em>, <em>d2=1.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.compute_DockQScore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.compute_DockQScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the DockQ Score</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Fnat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Fnat value</li>
<li><strong>lrmsd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – lrmsd value</li>
<li><strong>irmsd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – irmsd value</li>
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – first coefficient for the DockQ calculations</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – second coefficient for the DockQ calculations</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_rmsd">
<em class="property">static </em><code class="descname">get_rmsd</code><span class="sig-paren">(</span><em>P</em>, <em>Q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_rmsd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_rmsd" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the RMSD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> (<em>np.array</em><em>(</em><em>nx3</em><em>)</em>) – position of the points in the first molecule</li>
<li><strong>Q</strong> (<em>np.array</em><em>(</em><em>nx3</em><em>)</em>) – position of the points in the second molecule</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">RMSD value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_trans_vect">
<em class="property">static </em><code class="descname">get_trans_vect</code><span class="sig-paren">(</span><em>P</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_trans_vect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_trans_vect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the translationv vector to the origin</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>P</strong> (<em>np.array</em><em>(</em><em>nx3</em><em>)</em>) – position of the points in the molecule</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">minus mean value of the xyz columns</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix">
<code class="descname">get_rotation_matrix</code><span class="sig-paren">(</span><em>P</em>, <em>Q</em>, <em>method='svd'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix_Kabsh">
<em class="property">static </em><code class="descname">get_rotation_matrix_Kabsh</code><span class="sig-paren">(</span><em>P</em>, <em>Q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_rotation_matrix_Kabsh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix_Kabsh" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the rotation matrix to aligh two point clouds.</p>
<p>The method is based on th Kabsh approach
<a class="reference external" href="https://cnx.org/contents/HV-RsdwL&#64;23/Molecular-Distance-Measures">https://cnx.org/contents/HV-RsdwL&#64;23/Molecular-Distance-Measures</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> (<em>np.array</em>) – xyz of the first point cloud</li>
<li><strong>Q</strong> (<em>np.array</em>) – xyz of the second point cloud</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">rotation matrix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">np.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – matrix have different sizes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix_quaternion">
<em class="property">static </em><code class="descname">get_rotation_matrix_quaternion</code><span class="sig-paren">(</span><em>P</em>, <em>Q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.get_rotation_matrix_quaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.get_rotation_matrix_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the rotation matrix to aligh two point clouds</p>
<p>The method is based on the quaternion approach
<a class="reference external" href="http://www.ams.stonybrook.edu/~coutsias/papers/rmsd17.pdf">http://www.ams.stonybrook.edu/~coutsias/papers/rmsd17.pdf</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> (<em>np.array</em>) – xyz of the first point cloud</li>
<li><strong>Q</strong> (<em>np.array</em>) – xyz of the second point cloud</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">rotation matrix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">np.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – matrix have different sizes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.translation">
<em class="property">static </em><code class="descname">translation</code><span class="sig-paren">(</span><em>xyz</em>, <em>vect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.translation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.translation" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a fragment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xyz</strong> (<em>np.array</em>) – position of the fragment</li>
<li><strong>vect</strong> (<em>np.array</em>) – translation vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">translated positions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_around_axis">
<em class="property">static </em><code class="descname">rotation_around_axis</code><span class="sig-paren">(</span><em>xyz</em>, <em>axis</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.rotation_around_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_around_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a fragment around an axis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xyz</strong> (<em>np.array</em>) – original positions</li>
<li><strong>axis</strong> (<em>np.array</em>) – axis of rotation</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of rotation (radians)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Rotated positions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_euler">
<em class="property">static </em><code class="descname">rotation_euler</code><span class="sig-paren">(</span><em>xyz</em>, <em>alpha</em>, <em>beta</em>, <em>gamma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.rotation_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a fragment from Euler rotation angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xyz</strong> (<em>np.array</em>) – original positions</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation angle around the x axis</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation angle around the x axis</li>
<li><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation angle around the x axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Rotated positions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_matrix">
<em class="property">static </em><code class="descname">rotation_matrix</code><span class="sig-paren">(</span><em>xyz</em>, <em>rot_mat</em>, <em>center=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/StructureSimilarity.html#StructureSimilarity.rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.StructureSimilarity.StructureSimilarity.rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate a fragment from a roation matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xyz</strong> (<em>np.array</em>) – original positions</li>
<li><strong>rot_mat</strong> (<em>np.array</em>) – rotation matrix</li>
<li><strong>center</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Center the fragment before rotation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">rotated positions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deeprank.tools.sasa">
<span id="solvent-accessible-surface-area"></span><h2>Solvent Accessible Surface Area<a class="headerlink" href="#module-deeprank.tools.sasa" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deeprank.tools.sasa.SASA">
<em class="property">class </em><code class="descclassname">deeprank.tools.sasa.</code><code class="descname">SASA</code><span class="sig-paren">(</span><em>pdbfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple class that computes Surface Accessible Solvent Area.</p>
<p>The method follows some of the approaches presented in :</p>
<p>Solvent accessible surface area approximations for rapid and accurate protein structure prediction
<a class="reference external" href="https://link.springer.com/article/10.1007%2Fs00894-009-0454-9">https://link.springer.com/article/10.1007%2Fs00894-009-0454-9</a></p>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sasa</span> <span class="o">=</span> <span class="n">SASA</span><span class="p">(</span><span class="s1">&#39;1AK4_1w.pdb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NV</span> <span class="o">=</span> <span class="n">sasa</span><span class="o">.</span><span class="n">neighbor_vector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">NV</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pdbfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – PDB file of the conformation</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deeprank.tools.sasa.SASA.get_center">
<code class="descname">get_center</code><span class="sig-paren">(</span><em>chainA='A'</em>, <em>chainB='B'</em>, <em>center='cb'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.get_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.get_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the center of the resiudes.</p>
<p>center = cb –&gt; the center is located on the carbon beta of each residue
center = ‘center’ –&gt; average position of all atoms of the residue</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chainA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the first chain</li>
<li><strong>chainB</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the second chain</li>
<li><strong>center</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Specify the center.
center = ‘cb’ –&gt; the center is located on the carbon beta of each residue
center = ‘center’ –&gt; average position of all atoms of the residue</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – If the center is not recpgnized</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sasa.SASA.get_residue_center">
<code class="descname">get_residue_center</code><span class="sig-paren">(</span><em>chainA='A'</em>, <em>chainB='B'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.get_residue_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.get_residue_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the average position of all the residues.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>chainA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the first chain</li>
<li><strong>chainB</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the second chain</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sasa.SASA.get_residue_carbon_beta">
<code class="descname">get_residue_carbon_beta</code><span class="sig-paren">(</span><em>chainA='A'</em>, <em>chainB='B'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.get_residue_carbon_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.get_residue_carbon_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the position of the carbon beta of each residue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>chainA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the first chain</li>
<li><strong>chainB</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the second chain</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sasa.SASA.neighbor_vector">
<code class="descname">neighbor_vector</code><span class="sig-paren">(</span><em>lbound=3.3</em>, <em>ubound=11.1</em>, <em>chainA='A'</em>, <em>chainB='B'</em>, <em>center='cb'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.neighbor_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.neighbor_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute teh SASA folowing the neighbour vector approach.</p>
<p>The method is based on Eq on page 1097 of <a class="reference external" href="https://link.springer.com/article/10.1007%2Fs00894-009-0454-9">https://link.springer.com/article/10.1007%2Fs00894-009-0454-9</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lbound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – lower boubd</li>
<li><strong>ubound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – upper bound</li>
<li><strong>chainA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the first chain</li>
<li><strong>chainB</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the second chain</li>
<li><strong>center</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – specify the center (see get_residue_center)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">neighbouring vectors</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sasa.SASA.neighbor_count">
<code class="descname">neighbor_count</code><span class="sig-paren">(</span><em>lbound=4.0</em>, <em>ubound=11.4</em>, <em>chainA='A'</em>, <em>chainB='B'</em>, <em>center='cb'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.neighbor_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.neighbor_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the neighbourhood count of each residue.</p>
<p>The method is based on Eq on page 1097 of <a class="reference external" href="https://link.springer.com/article/10.1007%2Fs00894-009-0454-9">https://link.springer.com/article/10.1007%2Fs00894-009-0454-9</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lbound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – lower boubd</li>
<li><strong>ubound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – upper bound</li>
<li><strong>chainA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the first chain</li>
<li><strong>chainB</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of the second chain</li>
<li><strong>center</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – specify the center (see get_residue_center)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Neighborhood count</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="deeprank.tools.sasa.SASA.neighbor_weight">
<em class="property">static </em><code class="descname">neighbor_weight</code><span class="sig-paren">(</span><em>dist</em>, <em>lbound</em>, <em>ubound</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sasa.html#SASA.neighbor_weight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sasa.SASA.neighbor_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Neighboor weight</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dist</strong> (<em>np.array</em>) – distance from neighboors</li>
<li><strong>lbound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – lower bound</li>
<li><strong>ubound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – upper bound</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deeprank.tools.sparse">
<span id="sparse-3d-matrix"></span><h2>Sparse 3D Matrix<a class="headerlink" href="#module-deeprank.tools.sparse" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="deeprank.tools.sparse.COOgrid">
<em class="property">class </em><code class="descclassname">deeprank.tools.sparse.</code><code class="descname">COOgrid</code><span class="sig-paren">(</span><em>sparse=None</em>, <em>index=None</em>, <em>value=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#COOgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.COOgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>COO 3d Sparse matrix class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Sparse or Not</li>
<li><strong>index</strong> (<em>Nx3 array</em><em>, </em><em>optional</em>) – index of the non zero elements</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – values of the non-zero elements</li>
<li><strong>shape</strong> (<em>3x3 array</em><em>, </em><em>optional</em>) – shape of the matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deeprank.tools.sparse.COOgrid.from_dense">
<code class="descname">from_dense</code><span class="sig-paren">(</span><em>data</em>, <em>beta=None</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#COOgrid.from_dense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.COOgrid.from_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a sparse matrix from a dense one.</p>
<p>data : the 3D tensor to encode
beta : threshold to determine if a sparse rep is valuable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>np.array</em>) – full matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – threshold to determine if a sparse rep is valuable</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – print debug information</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sparse.COOgrid.to_dense">
<code class="descname">to_dense</code><span class="sig-paren">(</span><em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#COOgrid.to_dense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.COOgrid.to_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dense matrix from a sparse one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shape</strong> (<em>3x3 array</em><em>, </em><em>optional</em>) – shape of the matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dense 3D matrix</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">np.array</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – Shape not defined</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="deeprank.tools.sparse.FLANgrid">
<em class="property">class </em><code class="descclassname">deeprank.tools.sparse.</code><code class="descname">FLANgrid</code><span class="sig-paren">(</span><em>sparse=None</em>, <em>index=None</em>, <em>value=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#FLANgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.FLANgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Flat Array sparse matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – Sparse or Not</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em><em>, </em><em>optional</em>) – single index of each non-zero elements</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>)</em><em>, </em><em>optional</em>) – values of the non-zero elements</li>
<li><strong>shape</strong> (<em>3x3 array</em><em>, </em><em>optional</em>) – Shape of the matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deeprank.tools.sparse.FLANgrid.from_dense">
<code class="descname">from_dense</code><span class="sig-paren">(</span><em>data</em>, <em>beta=None</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#FLANgrid.from_dense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.FLANgrid.from_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a sparse matrix from a dense one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>np.array</em>) – Dense matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – threshold to determine if a sparse rep is valuable</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – print debug information</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="deeprank.tools.sparse.FLANgrid.to_dense">
<code class="descname">to_dense</code><span class="sig-paren">(</span><em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deeprank/tools/sparse.html#FLANgrid.to_dense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deeprank.tools.sparse.FLANgrid.to_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dense matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shape</strong> (<em>3x3 array</em><em>, </em><em>optional</em>) – Shape of the matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dense 3D matrix</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">np.array</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> – shape not defined</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial : Data Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_deeplearning.html">Tutorial : Deep learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="advTuto.html">Advanced Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Documentation.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deeprank.generate.html">Generate Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="deeprank.learn.html">Deep learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="deeprank.features.html">Feature</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-deeprank.tools.pdb2sql">pdb2sql</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-deeprank.tools.StructureSimilarity">Structure Similarity: a new ProFit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-deeprank.tools.sasa">Solvent Accessible Surface Area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-deeprank.tools.sparse">Sparse 3D Matrix</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="deeprank.features.html"
                        title="previous chapter">Feature</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/deeprank.tools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="deeprank.features.html" title="Feature"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DeepRank 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Documentation.html" >Documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Nicolas Renaud.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.
    </div>
  </body>
</html>